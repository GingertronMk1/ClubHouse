{% extends 'base.html.twig' %}

{% block title %}ClubHouse{% endblock %}

{% block classes %}people{% endblock %}

{% block body %}
    {% set people = people|default([]) %}

    <a class="btn btn-primary" href="{{ path('team.create') }}">New</a>
    <table class="table">
            <tr>
                <th>Team Name</th>
                <th>Description</th>
                <th>People</th>
                <th>Created At</th>
                <th>Last Updated At</th>
                <th>Actions</th>
            </tr>
    {% for team in teams %}
        <tr data-team-id="{{ team.id }}">
            <td>{{ team.name }}</td>
            <td>{{ team.description }}</td>
            <td>{{ team.people|map(p => p.name)|join(', ') }}</td>
            <td>{{ team.createdAt|date('Y-m-d H:i:s') }}</td>
            <td>{{ team.updatedAt|date('Y-m-d H:i:s') }}</td>
            <td><a href="{{ path('team.update', {teamId: team.id}) }}">Edit</a></td>
        </tr>
    {% endfor %}
    </table>
{% endblock %}
